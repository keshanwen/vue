{"version":3,"file":"runtime-dom.global.js","sources":["../../shared/src/index.ts","../src/nodeOps.ts","../src/modules/attr.ts","../src/modules/class.ts","../src/modules/events.ts","../src/modules/style.ts","../src/patchProp.ts","../../reactivity/src/effect.ts","../../reactivity/src/baseHandlers.ts","../../reactivity/src/reactive.ts","../../reactivity/src/ref.ts","../../reactivity/src/computed.ts","../../runtime-core/src/vnode.ts","../../runtime-core/src/apiCreateApp.ts","../../runtime-core/src/componentPublicInstance.ts","../../runtime-core/src/component.ts","../../runtime-core/src/scheduler.ts","../../runtime-core/src/renderer.ts","../../runtime-core/src/h.ts","../src/index.ts"],"sourcesContent":["export const isObject = (value) => typeof value == 'object' && value !== null;\r\nexport const extend = Object.assign\r\nexport const isArray = Array.isArray;\r\nexport const isFunction = (value) => typeof value == 'function'\r\nexport const isNumber = (value) => typeof value == 'number';\r\nexport const isString = (value) => typeof value === 'string';\r\nexport const isIntegerKey = (key) => parseInt(key) + '' === key;\r\n\r\n\r\nlet hasOwnpRroperty = Object.prototype.hasOwnProperty;\r\nexport const hasOwn = (target, key) => hasOwnpRroperty.call(target, key);\r\n\r\nexport const hasChanged = (oldValue,value) => oldValue !== value\r\n\r\nexport * from './shapeFlag'","export const nodeOps = {\n    // createElement, 不同的平台创建元素方式不同\n    // 元素\n    createElement: tagName => document.createElement(tagName), // 增加\n    remove: child => { // 删除\n        const parent = child.parentNode;\n        if (parent) {\n            parent.removeChild(child)\n        }\n    },\n    insert: (child, parent, anchor = null) => { // 插入\n        parent.insertBefore(child, anchor); // 如果参照物为空 则相当于appendChild\n    },\n    querySelector: selector => document.querySelector(selector),\n    setElementText: (el, text) => el.textContent = text,\n    // 文本操作 创建文本 \n    createText: text => document.createTextNode(text),\n    setText: (node, text) => node.nodeValue = text,\n    nextSibling:(node) => node.nextSibling \n}\n\n","\n\nexport const patchAttr = (el,key,value) =>{\n    if(value == null){\n        el.removeAttribute(key);\n    }else {\n        el.setAttribute(key,value);\n    }\n}","\n\nexport const patchClass = (el,value) =>{\n    if(value == null){\n        value = '';\n    }\n    el.className = value\n}","// 1.给元素缓存一个绑定事件的列表\n// 2.如果缓存中没有缓存过的，而且value有值 需要绑定方法，并且缓存起来\n// 3.以前绑定过需要删除掉，删除缓存\n// 4.如果前后都有，直接改变invoker中value属性指向最新的事件 即可\nexport const patchEvent = (el,key,value) =>{ // vue指令 删除和添加\n    // 对函数的缓存\n    const invokers = el._vei || (el._vei = {});   \n    const exists = invokers[key]; // 如果不存在\n    if(value && exists){ // 需要绑定事件 而且还存在的情况下\n        exists.value = value;\n    }else{\n        const eventName = key.slice(2).toLowerCase();\n        if(value){ // 要绑定事件 以前没有绑定过\n            let invoker = invokers[key] = createInvoker(value);\n            el.addEventListener(eventName,invoker)\n        }else{ // 以前绑定了 当时没有value\n            el.removeEventListener(eventName,exists);\n            invokers[key] = undefined;\n        } \n    }\n}\nfunction createInvoker(value){\n    const invoker = (e) =>{ invoker.value(e);}\n    invoker.value = value; // 为了能随时更改value属性\n    return invoker;\n}\n\n// 一个元素 绑定事件  addEventListener(fn) addEventListener(fn1) \n\n// value = fn\n// div @click=\"fn\"  ()=> value()\n\n// div","export const patchStyle = (el,prev,next) =>{ // cssText;\n    const style = el.style; //获取样式 \n    if(next == null){\n        el.removeAttribute('style') // {style:{}}  {}\n    }else{\n        // 老的里新的有没有 \n        if(prev){  // {style:{color}} => {style:{background}}\n            for(let key in prev){\n                if(next[key] == null){ // 老的里有 新的里没有 需要删除\n                    style[key] = '';\n                }\n            }\n        }\n        // 新的里面需要赋值到style上\n        for(let key in next){ // {style:{color}} => {style:{background}}\n            style[key] = next[key];\n        }\n    }\n\n}","// 这个里面针对的是属性操作，一系列的属性操作\n\nimport { patchAttr } from \"./modules/attr\";\nimport { patchClass } from \"./modules/class\";\nimport { patchEvent } from \"./modules/events\";\nimport { patchStyle } from \"./modules/style\";\n\n\nexport const patchProp = (el,key,prevValue,nextValue) => {\n    switch (key) {\n        case 'class':\n            patchClass(el,nextValue); // 比对属性\n            break;\n        case 'style': // {style:{color:'red'}}  {style:{background:'red'}}\n            patchStyle(el,prevValue,nextValue);\n            break;\n        default:\n            // 如果不是事件 才是属性\n            if(/^on[^a-z]/.test(key)){\n                patchEvent(el,key,nextValue); // 事件就是添加和删除 修改\n            }else{\n                patchAttr(el,key,nextValue);\n            }\n\n            break;\n    }\n}\n","import { isArray, isIntegerKey } from \"@vue/shared/src\";\r\nimport { TriggerOrTypes } from \"./operators\";\r\n\r\nexport function effect(fn, options: any = {}) {\r\n    // 我需要让这个effect变成响应的effect，可以做到数据变化重新执行 \r\n    const effect = createReactiveEffect(fn, options);\r\n    if (!options.lazy) { // 默认的effect会先执行\r\n        effect(); // 响应式的effect默认会先执行一次\r\n    }\r\n    return effect;\r\n}\r\nlet uid = 0;\r\nlet activeEffect; // 存储当前的effect\r\nconst effectStack = []\r\nfunction createReactiveEffect(fn, options) {\r\n    const effect = function reactiveEffect() {\r\n        if (!effectStack.includes(effect)) { // 保证effect没有加入到effectStack中\r\n            try {\r\n                effectStack.push(effect);\r\n                activeEffect = effect;\r\n                return fn(); // 函数执行时会取值  会执行get方法\r\n            } finally {\r\n                effectStack.pop();\r\n                activeEffect = effectStack[effectStack.length - 1];\r\n            }\r\n        }\r\n    }\r\n    effect.id = uid++; // 制作一个effect标识 用于区分effect\r\n    effect._isEffect = true; // 用于标识这个是响应式effect\r\n    effect.raw = fn; // 保留effect对应的原函数\r\n    effect.options = options; // 在effect上保存用户的属性\r\n    return effect;\r\n}\r\n// 让，某个对象中的属性 收集当前他对应的effect函数\r\nconst targetMap = new WeakMap();\r\nexport function track(target, type, key) { // 可以拿到当前的effect\r\n    //  activeEffect; // 当前正在运行的effect\r\n    if (activeEffect === undefined) { // 此属性不用收集依赖，因为没在effect中使用\r\n        return;\r\n    }\r\n    let depsMap = targetMap.get(target);\r\n    if (!depsMap) {\r\n        targetMap.set(target, (depsMap = new Map));\r\n    }\r\n    let dep = depsMap.get(key);\r\n    if (!dep) {\r\n        depsMap.set(key, (dep = new Set))\r\n    }\r\n    if (!dep.has(activeEffect)) {\r\n        dep.add(activeEffect);\r\n    }\r\n}\r\n\r\n// 找属性对应的effect 让其执行 （数组、对象）\r\nexport function trigger(target, type, key?, newValue?, oldValue?) {\r\n\r\n    // 如果这个属性没有 收集过effect，那不需要做任何操作\r\n    const depsMap = targetMap.get(target);\r\n    if (!depsMap) return;\r\n\r\n    const effects = new Set(); // 这里对effect去重了\r\n    const add = (effectsToAdd) => {\r\n        if (effectsToAdd) {\r\n            effectsToAdd.forEach(effect => effects.add(effect));\r\n        }\r\n    }\r\n    // 我要将所有的 要执行的effect 全部存到一个新的集合中，最终一起执行\r\n\r\n    // 1. 看修改的是不是数组的长度 因为改长度影响比较大\r\n    if (key === 'length' && isArray(target)) {\r\n        // 如果对应的长度 有依赖收集需要更新\r\n        depsMap.forEach((dep, key) => {\r\n            if (key === 'length' || key > newValue) { // 如果更改的长度 小于收集的索引，那么这个索引也需要触发effect重新执行\r\n                add(dep)\r\n            }\r\n        })\r\n    } else {\r\n        // 可能是对象\r\n        if (key !== undefined) { // 这里肯定是修改， 不能是新增\r\n            add(depsMap.get(key)); // 如果是新增\r\n        }\r\n        // 如果修改数组中的 某一个索引 怎么办？\r\n        switch (type) {  // 如果添加了一个索引就触发长度的更新\r\n            case TriggerOrTypes.ADD:\r\n                if (isArray(target) && isIntegerKey(key)) {\r\n                    add(depsMap.get('length'));\r\n                }\r\n        }\r\n    }\r\n    effects.forEach((effect: any) => {\r\n        if(effect.options.scheduler){\r\n            effect.options.scheduler(effect);\r\n        }else{\r\n            effect();\r\n        }\r\n    })\r\n}\r\n// weakMap {name:'zf',age:12}  (map) =>{name => set(effect),age => set(effect)}\r\n// {name:'zf',age:12} => name => [effect effect]\r\n\r\n\r\n// 函数调用是一个栈型结构\r\n// effect(()=>{ // effect1   [effect1]\r\n//     state.name -> effect1\r\n//     effect(()=>{ // effect2\r\n//         state.age -> effect2\r\n//     })\r\n//     state.address -> effect1\r\n// })","// 实现 new Proxy(target, handler)\r\n\r\nimport { extend, hasChanged, hasOwn, isArray, isIntegerKey, isObject } from \"@vue/shared/src\";\r\nimport { track, trigger } from \"./effect\";\r\nimport { TrackOpTypes, TriggerOrTypes } from \"./operators\";\r\nimport { reactive, readonly } from \"./reactive\";\r\n\r\n\r\nconst get = createGetter();\r\nconst shallowGet = createGetter(false, true);\r\nconst readonlyGet = createGetter(true);\r\nconst showllowReadonlyGet = createGetter(true, true);\r\nconst set = createSetter();\r\nconst shallowSet = createSetter(true);\r\nexport const mutableHandlers = {\r\n    get,\r\n    set\r\n}\r\nexport const shallowReactiveHandlers = {\r\n    get: shallowGet,\r\n    set: shallowSet\r\n}\r\n\r\nlet readonlyObj = {\r\n    set: (target, key) => {\r\n        console.warn(`set on key ${key} falied`)\r\n    }\r\n}\r\nexport const readonlyHandlers = extend({\r\n    get: readonlyGet,\r\n}, readonlyObj)\r\nexport const shallowReadonlyHandlers = extend({\r\n    get: showllowReadonlyGet,\r\n}, readonlyObj)\r\n\r\n// 是不是仅读的，仅读的属性set时会报异常\r\n// 是不是深度的 \r\nfunction createGetter(isReadonly = false, shallow = false) { // 拦截获取功能\r\n    return function get(target, key, receiver) { // let proxy = reactive({obj:{}})\r\n        // proxy + reflect\r\n        // 后续Object上的方法 会被迁移到Reflect Reflect.getProptypeof()\r\n        // 以前target[key] = value 方式设置值可能会失败 ， 并不会报异常 ，也没有返回值标识\r\n        // Reflect 方法具备返回值\r\n        // reflect 使用可以不使用 proxy es6语法\r\n\r\n        const res = Reflect.get(target, key, receiver); // target[key];\r\n        if(!isReadonly){\r\n            // 收集依赖，等会数据变化后更新对应的视图\r\n            track(target,TrackOpTypes.GET,key)\r\n        }\r\n        if(shallow){\r\n            return res;\r\n        }\r\n        if(isObject(res)){ // vue2 是一上来就递归，vue3 是当取值时会进行代理 。 vue3的代理模式是懒代理\r\n            return isReadonly ? readonly(res) : reactive(res)\r\n        }\r\n        return res;\r\n    }\r\n}\r\nfunction createSetter(shallow = false) { // 蓝爵设置功能\r\n    return function set(target, key, value, receiver) {\r\n\r\n        const oldValue = target[key]; // 获取老的值\r\n\r\n        let hadKey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target,key);\r\n\r\n        const result = Reflect.set(target, key, value, receiver); // target[key] = value\r\n\r\n\r\n        if(!hadKey){\r\n            // 新增 \r\n            trigger(target,TriggerOrTypes.ADD,key,value);\r\n        }else if(hasChanged(oldValue,value)){\r\n            // 修改 \r\n            trigger(target,TriggerOrTypes.SET,key,value,oldValue)\r\n        }\r\n\r\n\r\n\r\n        // 我们要区分是新增的 还是修改的  vue2 里无法监控更改索引，无法监控数组的长度变化  -》 hack的方法 需要特殊处理\r\n\r\n\r\n        // 当数据更新时 通知对应属性的effect重新执行\r\n\r\n\r\n        return result;\r\n    }\r\n}\r\n\r\n","import { isObject } from \"@vue/shared\"\r\nimport {\r\n    mutableHandlers,\r\n    shallowReactiveHandlers,\r\n    readonlyHandlers,\r\n    shallowReadonlyHandlers\r\n} from './baseHandlers'\r\nexport function reactive(target){\r\n    return createReactiveObject(target,false,mutableHandlers)\r\n}\r\nexport function shallowReactive(target){\r\n    return createReactiveObject(target,false,shallowReactiveHandlers)\r\n}\r\n\r\nexport function readonly(target){\r\n    return createReactiveObject(target,true,readonlyHandlers)\r\n}\r\n\r\nexport function shallowReadonly(target){\r\n    return createReactiveObject(target,true,shallowReadonlyHandlers)\r\n}\r\n\r\n// 是不是仅读 是不是深度， 柯里化  new Proxy() 最核心的需要拦截 数据的读取和数据的修改  get set\r\nconst reactiveMap = new WeakMap(); // 会自动垃圾回收，不会造成内存泄漏， 存储的key只能是对象\r\nconst readonlyMap = new WeakMap();\r\nexport function createReactiveObject(target,isReadonly,baseHandlers){\r\n    // 如果目标不是对象 没法拦截了，reactive这个api只能拦截对象类型\r\n    if( !isObject(target)){\r\n        return target; \r\n    }\r\n    // 如果某个对象已经被代理过了 就不要再次代理了  可能一个对象 被代理是深度 又被仅读代理了\r\n    const proxyMap = isReadonly? readonlyMap:reactiveMap\r\n    const existProxy = proxyMap.get(target);\r\n    if(existProxy){\r\n        return existProxy; // 如果已经被代理了 直接返回即可\r\n    }\r\n    const proxy = new Proxy(target,baseHandlers);\r\n    proxyMap.set(target,proxy); // 将要代理的对象 和对应代理结果缓存起来\r\n\r\n    return proxy;\r\n}\r\n","import { hasChanged, isArray, isObject } from \"@vue/shared/src\";\r\nimport { track, trigger } from \"./effect\";\r\nimport { TrackOpTypes, TriggerOrTypes } from \"./operators\";\r\nimport { reactive } from \"./reactive\";\r\n\r\nexport function ref(value) {\r\n    // 将普通类型 变成一个对象 , 可以是对象 但是一般情况下是对象直接用reactive更合理\r\n    return createRef(value)\r\n}\r\n\r\n// ref 和 reactive的区别 reactive内部采用proxy  ref中内部使用的是defineProperty\r\n\r\n\r\nexport function shallowRef(value) {\r\n    return createRef(value, true)\r\n}\r\n\r\n// 后续 看vue的源码 基本上都是高阶函数 做了类似柯里化的功能\r\n\r\nconst convert = (val) => isObject(val) ? reactive(val) : val\r\n// beta 版本 之前的版本ref 就是个对象 ，由于对象不方便扩展 改成了类\r\nclass RefImpl {\r\n    public _value; //表示 声明了一个_value属性 但是没有赋值\r\n    public __v_isRef = true; // 产生的实例会被添加 __v_isRef 表示是一个ref属性\r\n    constructor(public rawValue, public shallow) { // 参数中前面增加修饰符 标识此属性放到了实例上\r\n        this._value = shallow ? rawValue : convert(rawValue)// 如果是深度 需要把里面的都变成响应式的\r\n    }\r\n    // 类的属性访问器\r\n    get value() { // 代理 取值取value 会帮我们代理到 _value上\r\n        track(this, TrackOpTypes.GET, 'value');\r\n        return this._value\r\n    }\r\n    set value(newValue) {\r\n        if (hasChanged(newValue, this.rawValue)) { // 判断老值和新值是否有变化\r\n            this.rawValue = newValue; // 新值会作为老值\r\n            this._value = this.shallow ? newValue : convert(newValue);\r\n            trigger(this, TriggerOrTypes.SET, 'value', newValue);\r\n        }\r\n    }\r\n}\r\nfunction createRef(rawValue, shallow = false) {\r\n    return new RefImpl(rawValue, shallow)\r\n}\r\n\r\nclass ObjectRefImpl {\r\n    public __v_isRef = true;\r\n    constructor(public target, public key) {}\r\n    get value(){ // 代理  \r\n        return this.target[this.key] // 如果原对象是响应式的就会依赖收集\r\n    }\r\n    set value(newValue){\r\n        this.target[this.key] = newValue; // 如果原来对象是响应式的 那么就会触发更新\r\n    }\r\n}\r\n// promisify\r\n// promisifyAll\r\n\r\n\r\n// 将某一个key对应的值 转化成ref\r\nexport function toRef(target, key) { // 可以把一个对象的值转化成 ref类型\r\n    return new ObjectRefImpl(target, key)\r\n}\r\n\r\nexport function toRefs(object){ // object 可能传递的是一个数组 或者对象\r\n    const ret = isArray(object) ? new Array(object.length) :{}\r\n    for(let key in object){\r\n        ret[key] = toRef(object,key);\r\n    }\r\n    return ret;\r\n}","import { isFunction } from \"@vue/shared/src\";\nimport { effect, track, trigger } from \"./effect\";\nimport { TrackOpTypes, TriggerOrTypes } from \"./operators\";\n// 作业：调试 collectionHandlers ref 的api 和 computed\nclass ComputedRefImpl{\n    public _dirty = true; // 默认取值时不要用缓存\n    public _value;\n    public effect;\n    constructor(getter,public setter){ // ts 中默认不会挂载到this上\n        this.effect = effect(getter,{\n            lazy:true, // 默认不执行\n            scheduler:()=>{\n                if(!this._dirty){\n                    this._dirty = true;\n                    trigger(this,TriggerOrTypes.SET,'value')\n                }\n            }\n        })\n    }\n    get value(){ // 计算属性也要收集依赖\n        if(this._dirty){\n            this._value = this.effect(); // 会将用户的反回值返回\n            this._dirty = false;\n        }\n        track(this,TrackOpTypes.GET,'value')\n        return this._value;\n    }\n    set value(newValue){\n        this.setter(newValue)\n    }\n}\n\n// vue2 和 vue3 computed原理是不一样的\nexport function computed(getterOrOptions){\n    let getter;\n    let setter;\n\n\n    if(isFunction(getterOrOptions)){\n        getter = getterOrOptions;\n        setter = () =>{\n            console.warn('computed value must be readonly')\n        }\n    }else{\n        getter = getterOrOptions.get;\n        setter = getterOrOptions.set;\n    }\n\n    return new ComputedRefImpl(getter,setter)\n\n}","// createVNode  创建虚拟节点\n\nimport { isArray, isObject, isString, ShapeFlags } from \"@vue/shared/src\";\n\nexport function isVnode(vnode){\n    return vnode.__v_isVnode\n}\n// h(‘div',{style:{color:red}},'children'); //  h方法和createApp类似\nexport const createVNode = (type,props,children = null) =>{\n    // 可以根据type 来区分是组件 还是普通的元素\n\n    // 根据type来区分 是元素还是组件\n\n    // 给虚拟节点加一个类型\n    const shapeFlag = isString(type) ? \n        ShapeFlags.ELEMENT : isObject(type)? \n            ShapeFlags.STATEFUL_COMPONENT : 0\n\n\n    const vnode = { // 一个对象来描述对应的内容 ， 虚拟节点有跨平台的能力\n        __v_isVnode:true,// 他是一个vnode节点\n        type,\n        props,\n        children,\n        component:null, // 存放组件对应的实例\n        el:null, // 稍后会将虚拟节点和真实节点对应起来\n        key: props && props.key,// diff算法会用到key\n        shapeFlag // 判断出当前自己的类型 和 儿子的类型\n    } \n    normalizeChildren(vnode,children);\n    return vnode;\n}\n\nfunction normalizeChildren(vnode,children){\n    let type = 0;\n    if(children == null){ // 不对儿子进行处理\n\n    } else if(isArray(children)){\n        type = ShapeFlags.ARRAY_CHILDREN;\n    } else{\n        type = ShapeFlags.TEXT_CHILDREN;\n    }\n    vnode.shapeFlag |=  type\n}\nexport const Text = Symbol('Text')\nexport function normalizeVNode(child){\n    if(isObject(child)) return child;\n\n    return createVNode(Text,null,String(child));\n}","import { createVNode } from \"./vnode\"\n\nexport function createAppAPI(render){\n    return function createApp(rootComponent,rootProps){ // 告诉他那个组件那个属性来创建的应用\n        const app = {\n            _props:rootProps,\n            _component:rootComponent,\n            _container:null,\n            mount(container){ // 挂载的目的地\n                // let vnode = {}\n                // render(vnode,container);\n\n                // 1.根据组件创建虚拟节点\n                // 2.将虚拟节点和容器获取到后调用render方法进行渲染\n\n                // 创造虚拟节点\n                const vnode = createVNode(rootComponent,rootProps)\n\n                // 调用render\n                render(vnode,container)\n\n\n                app._container = container\n            }\n        }\n        return app\n    }\n}","import { hasOwn } from \"@vue/shared/src\"\n\nexport const PublicInstanceProxyHandlers = {\n    get({ _: instance }, key) {\n        // 取值时 要访问 setUpState， props ,data\n        const { setupState, props, data } = instance;\n        if (key[0] == '$') {\n            return; // 不能访问$ 开头的变量\n        }\n        if (hasOwn(setupState, key)) {\n            return setupState[key];\n        } else if (hasOwn(props, key)) {\n            return props[key];\n        } else if (hasOwn(data, key)) {\n            return data[key];\n        }\n    },\n    set({ _: instance }, key, value) {\n        const { setupState, props, data } = instance;\n        if (hasOwn(setupState, key)) {\n            setupState[key] = value;\n        } else if (hasOwn(props, key)) {\n            props[key] = value;\n        } else if (hasOwn(data, key)) {\n            data[key] = value;\n        }\n        return true;\n    }\n}","// 组件中所有的方法\n\nimport { isFunction, isObject, ShapeFlags } from \"@vue/shared/src\";\nimport { PublicInstanceProxyHandlers } from \"./componentPublicInstance\";\n\n\nexport function createComponentInstance(vnode) {\n    // webcomponent 组件需要有“属性” “插槽”\n    const instance = { // 组件的实例\n        vnode,\n        type: vnode.type, // 用户写的对象\n        props: {}, // props attrs 有什么区别 vnode.props\n        attrs: {},\n        slots: {},\n        ctx: {},\n        data:{},\n        setupState: {}, // 如果setup返回一个对象，这个对象会作为setUpstate\n        render: null,\n        subTree:null, // render函数的返回结果就是subTree\n        isMounted: false // 表示这个组件是否挂载过\n    }\n    instance.ctx = { _: instance } // instance.ctx._\n    return instance;\n}\n\nexport function setupComponent(instance) {\n    const { props, children } = instance.vnode; // {type,props,children}\n\n    // 根据props 解析出 props 和 attrs，将其放到instance上\n    instance.props = props; // initProps()\n    instance.children = children; // 插槽的解析 initSlot()\n\n    // 需要先看下 当前组件是不是有状态的组件， 函数组件\n\n    let isStateful = instance.vnode.shapeFlag & ShapeFlags.STATEFUL_COMPONENT\n    if (isStateful) { // 表示现在是一个带状态的组件\n        // 调用 当前实例的setup方法，用setup的返回值 填充 setupState和对应的render方法\n        setupStatefulComponent(instance)\n    }\n}\nfunction setupStatefulComponent(instance) {\n    // 1.代理 传递给render函数的参数\n    instance.proxy = new Proxy(instance.ctx, PublicInstanceProxyHandlers as any)\n    // 2.获取组件的类型 拿到组件的setup方法\n    let Component = instance.type\n    let { setup } = Component;\n    // ------ 没有setup------\n    if(setup){\n        let setupContext = createSetupContext(instance);\n        const setupResult = setup(instance.props, setupContext); // instance 中props attrs slots emit expose 会被提取出来，因为在开发过程中会使用这些属性\n\n        handleSetupResult(instance,setupResult)\n\n    }else{\n        finishComponentSetup(instance);// 完成组件的启动\n    }\n}\nfunction handleSetupResult(instance,setupResult){\n    if(isFunction(setupResult)){\n        instance.render = setupResult\n    }else if(isObject(setupResult)){\n        instance.setupState = setupResult\n    }\n    finishComponentSetup(instance);\n}\nfunction finishComponentSetup(instance){\n    let Component = instance.type\n    if(!instance.render){\n        // 对template模板进行编译 产生render函数\n        // instance.render = render;// 需要将生成render函数放在实例上\n        if(!Component.render && Component.template){\n            // 编译 将结果 赋予给Component.render\n        }\n        instance.render = Component.render;\n    }\n\n    // 对vue2.0API做了兼容处理\n    // applyOptions \n}\nfunction createSetupContext(instance) {\n    return {\n        attrs: instance.attrs,\n        slots: instance.slots,\n        emit: () => { },\n        expose: () => { }\n    }\n}\n// 他们的关系涉及到后面的使用\n// instance 表示的组件的状态 各种各样的状态，组件的相关信息 \n// context 就4个参数 是为了开发时使用的\n// proxy 主要为了取值方便  =》 proxy.xxxx","\nlet queue = [];\nexport function queueJob(job) {\n    if(!queue.includes(job)){\n        queue.push(job);\n        queueFlush();\n    }\n}\nlet isFlushPending = false;\nfunction queueFlush(){\n    if(!isFlushPending){\n        isFlushPending = true;\n        Promise.resolve().then(flushJobs)\n    }\n}\n\nfunction flushJobs(){\n    isFlushPending = false\n    // 清空时  我们需要根据调用的顺序依次刷新  , 保证先刷新父在刷新子\n    queue.sort((a,b) => a.id - b.id);\n    for(let i = 0; i < queue.length; i++){\n        const job = queue[i];\n        job();\n    }\n    queue.length = 0;\n}","import { effect } from \"@vue/reactivity/src\";\nimport { ShapeFlags } from \"@vue/shared/src\";\nimport { createAppAPI } from \"./apiCreateApp\"\nimport { createComponentInstance, setupComponent } from \"./component\";\nimport { queueJob } from \"./scheduler\";\nimport { normalizeVNode, Text } from \"./vnode\";\n\nexport function createRenderer(rendererOptions) { // 告诉core 怎么渲染\n\n    const {\n        insert: hostInsert,\n        remove: hostRemove,\n        patchProp: hostPatchProp,\n        createElement: hostCreateElement,\n        createText: hostCreateText,\n        createComment: hostCreateComment,\n        setText: hostSetText,\n        setElementText: hostSetElementText,\n        nextSibling: hostNextSibling,\n    } = rendererOptions\n\n\n    // -------------------组件----------------------\n    const setupRenderEfect = (instance, container) => {\n        // 需要创建一个effect 在effect中调用 render方法，这样render方法中拿到的数据会收集这个effect，属性更新时effect会重新执行\n        instance.update = effect(function componentEffect() { // 每个组件都有一个effect， vue3 是组件级更新，数据变化会重新执行对应组件的effect\n            if (!instance.isMounted) {\n                // 初次渲染\n                let proxyToUse = instance.proxy;\n                // $vnode  _vnode \n                // vnode  subTree\n                let subTree = instance.subTree = instance.render.call(proxyToUse, proxyToUse);\n\n                // 用render函数的返回值 继续渲染\n                patch(null, subTree, container);\n                instance.isMounted = true;\n            } else {\n                // diff算法  （核心 diff + 序列优化 watchApi 生命周期）  \n                // ts 一周\n                // 组件库\n                // 更新逻辑\n                const prevTree = instance.subTree;\n                let proxyToUse = instance.proxy;\n                const nextTree = instance.render.call(proxyToUse, proxyToUse);\n\n                patch(prevTree, nextTree, container)\n            }\n        }, {\n            scheduler: queueJob\n        });\n    }\n    const mountComponent = (initialVNode, container) => {\n        // 组件的渲染流程  最核心的就是调用 setup拿到返回值，获取render函数返回的结果来进行渲染 \n        // 1.先有实例\n        const instance = (initialVNode.component = createComponentInstance(initialVNode))\n        // 2.需要的数据解析到实例上\n        setupComponent(instance); // state props attrs render ....\n        // 3.创建一个effect 让render函数执行\n        setupRenderEfect(instance, container);\n    }\n    const processComponent = (n1, n2, container) => {\n        if (n1 == null) { // 组件没有上一次的虚拟节点\n            mountComponent(n2, container);\n        } else {\n            // 组件更新流程 \n        }\n    }\n    // ------------------组件 ------------------\n\n\n    //----------------- 处理元素-----------------\n    const mountChildren = (children, container) => {\n        for (let i = 0; i < children.length; i++) {\n\n            let child = normalizeVNode(children[i]);\n            patch(null, child, container);\n        }\n    }\n    const mountElement = (vnode, container, anchor = null) => {\n        // 递归渲染\n        const { props, shapeFlag, type, children } = vnode;\n        let el = (vnode.el = hostCreateElement(type));\n\n        if (props) {\n            for (const key in props) {\n                hostPatchProp(el, key, null, props[key]);\n            }\n        }\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n            hostSetElementText(el, children);// 文本比较简单 直接扔进去即可\n        } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n            mountChildren(children, el);\n        }\n        hostInsert(el, container, anchor);\n    }\n\n    const patchProps = (oldProps, newProps, el) => {\n        if (oldProps !== newProps) {\n            for (let key in newProps) {\n                const prev = oldProps[key]\n                const next = newProps[key];\n                if (prev !== next) {\n                    hostPatchProp(el, key, prev, next);\n                }\n            }\n            for (const key in oldProps) {\n                if (!(key in newProps)) {\n                    hostPatchProp(el, key, oldProps[key], null);\n                }\n            }\n        }\n    }\n    const patchKeyedChildren = (c1, c2, el) => {\n        // Vue3 对特殊情况进行优化\n\n        let i = 0; // 都是默认从头开始比对 \n        let e1 = c1.length - 1;\n        let e2 = c2.length - 1;\n\n        // 尽可能较少比对的区域\n\n        // sync from start 从头开始一个个比 遇到不同的就停止了\n        while (i <= e1 && i <= e2) {\n            const n1 = c1[i];\n            const n2 = c2[i];\n            if (isSameVNodeType(n1, n2)) {\n                patch(n1, n2, el);\n            } else {\n                break;\n            }\n            i++;\n        }\n        // sync from end\n        while (i <= e1 && i <= e2) {\n            const n1 = c1[e1];\n            const n2 = c2[e2];\n            if (isSameVNodeType(n1, n2)) {\n                patch(n1, n2, el);\n            } else {\n                break;\n            }\n            e1--;\n            e2--;\n        }\n\n        // common sequence + mount  有一方已经完全比对完成了\n        // 比较后 \n        // 怎么确定是要挂载呢？\n\n        // 如果完成后 最终i的值大于e1 说明老的少\n\n        if (i > e1) { // 老的少 新的多   有一方已经完全比对完成了 \n            if (i <= e2) { // 表示有新增的部分\n                const nextPos = e2 + 1;\n                // 想知道是向前插入 还是向后插入\n                const anchor = nextPos < c2.length ? c2[nextPos].el : null;\n                while (i <= e2) {\n                    patch(null, c2[i], el, anchor); // 只是向后追加\n                    i++;\n                }\n            }\n        } else if (i > e2) { // 老的多新的少    有一方已经完全比对完成了\n            while (i <= e1) {\n                unmount(c1[i]);\n                i++;\n            }\n        } else {\n            // 乱序比较 ， 需要尽可能复用  用新的元素做成一个映射表去老的里找，一样的就复用， 不一样的要不插入 要不删除\n\n            let s1 = i;\n            let s2 = i;\n\n            // vue3 用的是新的做的映射表 vue2 用的是老的做的映射表\n            const keyToNewIndexMap = new Map(); // 索引 ： 值 weakMap :key 对象\n\n            for (let i = s2; i <= e2; i++) {\n                const childVNode = c2[i]; // child\n                keyToNewIndexMap.set(childVNode.key, i);\n            }\n\n\n            const toBePatched = e2 - s2 + 1;\n            const newIndexToOldIndexMap = new Array(toBePatched).fill(0)\n\n            // 去老的里面查找 看用没有复用的\n            for (let i = s1; i <= e1; i++) {\n                const oldVnode = c1[i];\n                let newIndex = keyToNewIndexMap.get(oldVnode.key);\n                if (newIndex === undefined) { // 老的里的不在新的中\n                    unmount(oldVnode);\n                } else { // 新老的比对 , 比较完毕后位置有差异\n                    // 新的和旧的关系 索引的关系 \n                    newIndexToOldIndexMap[newIndex - s2] = i + 1;\n                    patch(oldVnode, c2[newIndex], el); // patch的操作 是不是会复用元素 更新属性 比较儿子\n                }\n            }\n            // [5,3,4,0] => [1,2]\n            let increasingNewIndexSequence = getSequence(newIndexToOldIndexMap);\n\n            let j = increasingNewIndexSequence.length -1 ; // 取出最后一个人的索引\n            for (let i = toBePatched - 1; i >= 0; i--) {\n                let currentIndex = i + s2; // 找到h的索引\n                let child = c2[currentIndex]; // 找到h对应的节点\n                let anchor = currentIndex + 1 < c2.length ? c2[currentIndex+1].el  : null; // 第一次插入h 后 h是一个虚拟节点，同时插入后 虚拟节点会\n\n                if(newIndexToOldIndexMap[i] == 0) { // 如果自己是0说明没有被patch过\n                    patch(null,child,el,anchor)\n                }else{\n                    // [1,2,3,4,5,6]\n                    // [1,6,2,3,4,5]  // 最长递增子序列\n                    // 这种操作 需要将节点全部的移动一遍， 我希望可以尽可能的少移动   [5,3,4,0]\n                    // 3 2 1 0\n                    // [1,2]    2\n                    if(i != increasingNewIndexSequence[j]){\n                        hostInsert(child.el,el,anchor); // 操作当前的d 以d下一个作为参照物插入\n                    }else{\n                        j--; // 跳过不需要移动的元素， 为了减少移动操作 需要这个最长递增子序列算法  \n                    }\n                }\n            }\n\n            // 最后就是移动节点，并且将新增的节点插入\n            // 最长递增子序列\n        }\n    }\n    function getSequence(arr) { // 最终的结果是索引 \n        const len = arr.length;\n        const result = [0]; // 索引  递增的序列 用二分查找性能高\n        const p = arr.slice(0); // 里面内容无所谓 和 原本的数组相同 用来存放索引\n        let start;\n        let end;\n        let middle;\n        for (let i = 0; i < len; i++) { // O(n)\n            const arrI = arr[i];\n            if (arrI !== 0) {\n                let resultLastIndex = result[result.length - 1];\n                // 取到索引对应的值\n                if (arr[resultLastIndex] < arrI) {\n                    p[i] = resultLastIndex; // 标记当前前一个对应的索引\n                    result.push(i);\n                    // 当前的值 比上一个人大 ，直接push ，并且让这个人得记录他的前一个\n                    continue\n                }\n                // 二分查找 找到比当前值大的那一个\n                start = 0;\n                end = result.length - 1;\n                while (start < end) { // 重合就说明找到了 对应的值  // O(logn)\n                    middle = ((start + end) / 2) | 0; // 找到中间位置的前一个\n                    if (arr[result[middle]] < arrI) {\n                        start = middle + 1\n                    } else {\n                        end = middle\n                    } // 找到结果集中，比当前这一项大的数\n                }\n                // start / end 就是找到的位置\n                if (arrI < arr[result[start]]) { // 如果相同 或者 比当前的还大就不换了\n                    if (start > 0) { // 才需要替换\n                        p[i] = result[start - 1]; // 要将他替换的前一个记住\n                    }\n                    result[start] = i;\n                }\n            }\n        }\n        let len1 = result.length // 总长度\n        let last = result[len1 - 1] // 找到了最后一项\n        while (len1-- > 0) { // 根据前驱节点一个个向前查找\n            result[len1] = last\n            last = p[last]\n        }\n        return result;\n    } // O(nlogn) 性能比较好 O(n^2)\n    \n\n    const unmountChildren = (children) => {\n        for (let i = 0; i < children.length; i++) {\n            unmount(children[i])\n        }\n    }\n    const patchChildren = (n1, n2, el) => {\n        const c1 = n1.children; // 新老儿子\n        const c2 = n2.children;\n\n        // 老的有儿子 新的没儿子  新的有儿子老的没儿子  新老都有儿子  新老都是文本\n\n        const prevShapeFlag = n1.shapeFlag;\n        const shapeFlag = n2.shapeFlag;  // 分别标识过儿子的状况\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {  // case1:现在是文本之前是数组\n            // 老的是n个孩子 但是新的是文本\n            if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                unmountChildren(c1); // 如果c1 中包含组件会调用组件的销毁方法\n            }\n            // 两个人都是文本情况\n            if (c2 !== c1) { // case2：两个都是文本\n                hostSetElementText(el, c2)\n            }\n        } else {\n            // 现在是数组   上一次有可能是文本 或者数组\n            if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) { // case3:两个都是数组\n                if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                    // 当前是数组 之前是数组\n                    // 两个数组的比对  -》 diff算法  ***********************\n\n                    patchKeyedChildren(c1, c2, el);\n\n                } else {\n                    // 没有孩子  特殊情况 当前是null ， 删除掉老的\n                    unmountChildren(c1);\n                }\n            } else {\n                // 上一次是文本\n                if (prevShapeFlag & ShapeFlags.TEXT_CHILDREN) { // case4 现在是数组 之前是文本\n                    hostSetElementText(el, '');\n                }\n                if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                    mountChildren(c2, el);\n                }\n            }\n        }\n    }\n    const patchElement = (n1, n2, container) => {\n        // 元素是相同节点\n        let el = (n2.el = n1.el);\n\n        // 更新属性  更新儿子\n        const oldProps = n1.props || {};\n        const newProps = n2.props || {};\n\n        patchProps(oldProps, newProps, el);\n\n        patchChildren(n1, n2, el);\n    }\n    const processElement = (n1, n2, container, anchor) => {\n        if (n1 == null) {\n            mountElement(n2, container, anchor);\n        } else {\n            patchElement(n1, n2, container);\n        }\n    }\n    //----------------- 处理元素-----------------\n\n    // -----------------文本处理-----------------\n    const processText = (n1, n2, container) => {\n        if (n1 == null) {\n            hostInsert((n2.el = hostCreateText(n2.children)), container)\n        }\n    }\n    // -----------------文本处理-----------------\n\n    const isSameVNodeType = (n1, n2) => {\n        return n1.type === n2.type && n1.key === n2.key;\n    }\n    const unmount = (n1) => { // 如果是组件 调用的组件的生命周期等\n\n        hostRemove(n1.el)\n    }\n    const patch = (n1, n2, container, anchor = null) => {\n        // 针对不同类型 做初始化操作\n        const { shapeFlag, type } = n2;\n\n        if (n1 && !isSameVNodeType(n1, n2)) {\n            // 把以前的删掉 换成n2\n            anchor = hostNextSibling(n1.el);\n            unmount(n1);\n            n1 = null; // 重新渲染n2 对应的内容\n        }\n\n        switch (type) {\n            case Text:\n                processText(n1, n2, container);\n                break;\n            default:\n                if (shapeFlag & ShapeFlags.ELEMENT) {\n                    processElement(n1, n2, container, anchor);\n                } else if (shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\n                    processComponent(n1, n2, container);\n                }\n        }\n\n    }\n    const render = (vnode, container) => {\n        // core的核心, 根据不同的虚拟节点 创建对应的真实元素\n\n        // 默认调用render 可能是初始化流程\n        patch(null, vnode, container)\n    }\n    return {\n        createApp: createAppAPI(render)\n    }\n}\n// createRenderer 目的是创建一个渲染器\n\n// 框架 都是将组件 转化成虚拟DOM -》 虚拟DOM生成真实DOM挂载到真实页面上\n\n\n","import { isArray, isObject } from \"@vue/shared/src\";\nimport { createVNode, isVnode } from \"./vnode\";\n\n\nexport function h(type, propsOrChildren, children) {\n    const l = arguments.length; // 儿子节点要么是字符串 要么是数组 针对的是createVnode\n    if (l == 2) { // 类型 + 属性 、  类型 + 孩子 \n        // 如果propsOrChildren 是数组 直接作为第三个参数\n        if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\n            if(isVnode(propsOrChildren)){\n                return createVNode(type,null,[propsOrChildren]);\n            }\n            return createVNode(type,propsOrChildren)\n        } else {\n            // 如果第二个参数 不是对象 那一定是孩子\n            return createVNode(type, null, propsOrChildren);\n        }\n    }else{\n        if(l > 3){\n            children = Array.prototype.slice.call(arguments,2);\n        }else if(l === 3 && isVnode(children)){\n            children = [children]\n        }\n        return createVNode(type,propsOrChildren,children);\n    }\n}","// runtime-dom 核心就是  提供domAPI方法了\n//操作节点、操作属性的更新\n\nimport { extend } from \"@vue/shared/src\";\nimport { nodeOps } from \"./nodeOps\"; // 对象\nimport { patchProp } from \"./patchProp\"; // 方法\nimport {createRenderer} from '@vue/runtime-core'\n\n// 节点操作就是增删改查 \n// 属性操作 添加 删除 更新 (样式、类、事件、其他属性)\n\n\n// 渲染时用到的所有方法\nconst rendererOptions = extend({ patchProp }, nodeOps)\n\n// vue中runtime-core 提供了核心的方法 用来处理渲染的，他会使用runtime-dom中的api进行渲染\nexport function createApp(rootComponent, rootProps = null) {\n    const app = createRenderer(rendererOptions).createApp(rootComponent,rootProps)\n    let {mount} = app\n    app.mount = function (container) {\n        // 清空容器的操作 \n        container = nodeOps.querySelector(container);\n        container.innerHTML = '';\n        mount(container); // 函数劫持\n        // 将组件 渲染成dom元素 进行挂载\n    }\n    return app;\n}\n\n\n\nexport * from '@vue/runtime-core';\n\n// 用户调用的是runtime-dom  -> runtime-core \n// runtime-dom 是为了解决平台差异 （浏览器的）\n"],"names":[],"mappings":"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"}